
None selected 

Skip to content
Using University of Southern California Mail with screen readers

1 of 4,557
--
Inbox

Lucas Rendina
Attachments
8:15 PM (23 minutes ago)
to me

document.addEventListener('DOMContentLoaded', function() {

    // Check if user is logged in

    checkLoginStatus();

    

    // Load user information

    loadUserInfo();

    

    // Load enrolled courses

    loadEnrolledCourses();

    

    // Setup sign out button

    document.getElementById('signoutBtn').addEventListener('click', handleSignOut);

});



function checkLoginStatus() {

    fetch('../AccountServlet?action=checkLogin')

        .then(response => response.json())

        .then(data => {

            if (!data.loggedIn) {

                window.location.href = 'login.html';

            }

        })

        .catch(error => {

            console.error('Error:', error);

            window.location.href = 'login.html';

        });

}



function loadUserInfo() {

    fetch('../AccountServlet?action=getUserInfo')

        .then(response => response.json())

        .then(data => {

            document.getElementById('displayUsername').textContent = data.username;

            document.getElementById('displayEmail').textContent = data.email;

        })

        .catch(error => console.error('Error:', error));

}



function loadEnrolledCourses() {

    console.log('Loading enrolled courses...');

    fetch('../AccountServlet?action=getEnrolledCourses')

        .then(response => response.json())

        .then(data => {

            console.log('Received courses data:', data);

            const coursesList = document.getElementById('coursesList');

            coursesList.innerHTML = '';

            

            if (data.courses && data.courses.length > 0) {

                data.courses.forEach(course => {

                    const courseCard = document.createElement('div');

                    courseCard.className = 'course-card';

                    courseCard.innerHTML = `

                        <h3>${course.courseCode}</h3>

                        <p><strong>Professor:</strong> ${course.professor}</p>

                        <p><strong>Time:</strong> ${course.stime}</p>

                        <p><strong>Contact:</strong> ${course.contact}</p>

                        <button class="remove-course-btn" data-coursecode="${course.courseCode}">Remove Course</button>

                    `;

                    coursesList.appendChild(courseCard);



                    // Add click handler for the remove button

                    const removeBtn = courseCard.querySelector('.remove-course-btn');

                    removeBtn.addEventListener('click', () => removeCourse(course.courseCode, courseCard));

                });

            } else {

                console.log('No courses found');

                coursesList.innerHTML = '<p class="no-courses">No courses enrolled yet.</p>';

            }

        })

        .catch(error => {

            console.error('Error loading courses:', error);

            const coursesList = document.getElementById('coursesList');

            if (coursesList) {

                coursesList.innerHTML = '<p class="error-message">Error loading courses. Please try again later.</p>';

            }

        });

}



function removeCourse(courseCode, courseCard) {

    if (confirm('Are you sure you want to remove this course?')) {

        fetch('../AccountServlet', {

            method: 'POST',

            headers: {

                'Content-Type': 'application/x-www-form-urlencoded',

            },

            body: `action=removeCourse&courseCode=${courseCode}`

        })

        .then(response => response.json())

        .then(data => {

            if (data.status === 'success') {

                courseCard.remove(); // Remove the card from the DOM

                

                // Check if there are any courses left

                const coursesList = document.getElementById('coursesList');

                if (coursesList.children.length === 0) {

                    coursesList.innerHTML = '<p class="no-courses">No courses enrolled yet.</p>';

                }

            } else {

                alert('Error removing course: ' + data.message);

            }

        })

        .catch(error => {

            console.error('Error:', error);

            alert('Error removing course. Please try again.');

        });

    }

}



function handleSignOut() {

    fetch('../AccountServlet?action=signout', { method: 'POST' })

        .then(response => response.json())

        .then(data => {

            if (data.status === 'success') {

                window.location.href = 'index.html';

            }

        })

        .catch(error => console.error('Error:', error));

}

 2 Attachments
  •  Scanned by Gmail
.account-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 20px;
}

.user-info {
    margin-bottom: 40px;
}

.info-card {
    background-color: #fff;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.info-card p {
    margin: 10px 0;
    font-size: 16px;
}

.enrolled-courses {
    margin-bottom: 40px;
}

.courses-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    gap: 20px;
    margin-top: 20px;
}

.course-card {
    background-color: #fff;
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.course-card h3 {
    margin: 0 0 10px 0;
    color: #333;
}

.course-card p {
    margin: 5px 0;
    color: #666;
}

.signout-btn {
    background-color: #dc3545;
    color: white;
    border: none;
    padding: 10px 20px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 16px;
    transition: background-color 0.2s;
}

.signout-btn:hover {
    background-color: #c82333;
}

.account-actions {
    text-align: center;
    margin-top: 40px;
}

.remove-course-btn {
    background-color: #dc3545;
    color: white;
    border: none;
    padding: 8px 16px;
    border-radius: 4px;
    cursor: pointer;
    font-size: 14px;
    margin-top: 10px;
    transition: background-color 0.2s;
}

.remove-course-btn:hover {
    background-color: #c82333;
}

.course-card {
    position: relative;
    padding-bottom: 50px; /* Make space for the remove button */
}

.course-card .remove-course-btn {
    position: absolute;
    bottom: 15px;
    left: 50%;
    transform: translateX(-50%);
}
account.css
You may be offline or with limited connectivity. Try downloading instead.